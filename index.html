<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ============================================================================
         PORTFOLIO HOMEPAGE - META INFORMATION
         ============================================================================ -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rahul Nanduri - Portfolio</title>
    
    <!-- ============================================================================
         STYLESHEETS
         ============================================================================ -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- ============================================================================
         FONT LOADING - OPTIMIZED FOR PERFORMANCE
         ============================================================================ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=VT323&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ============================================================================
         TRANSITION ANCHORS FOR SMOOTH PAGE TRANSITIONS
         ============================================================================ -->
    <a id="homepage" class="transition-anchor"></a>
    <a id="layerlens" class="transition-anchor"></a>
    <a id="hudson-wilder" class="transition-anchor"></a>
    <a id="neptune-studio" class="transition-anchor"></a>
    <a id="eco-aid" class="transition-anchor"></a>

    <!-- ============================================================================
         INTERACTIVE BACKGROUND - DOT GRID SYSTEM
         ============================================================================ -->
    <!-- Canvas element for interactive dot grid background that responds to cursor movement -->
    <canvas id="dotGrid" class="dot-grid-canvas"></canvas>
    
    <!-- ============================================================================
         MAIN LAYOUT CONTAINER
         ============================================================================ -->
    <div class="container">
        <!-- ========================================================================
             LEFT SIDEBAR - PROFILE AND NAVIGATION
             ======================================================================== -->
        <aside class="sidebar">
            <div class="profile-card">
                <h1 class="profile-name">Rahul Nanduri</h1>
                <p class="profile-pronunciation">['raah-ul']</p>
                <p class="profile-description">Aspiring Product Manager with a focus on delivering exceptional digital experiences through exceptional collaboration.</p>
            </div>
            
            <nav class="sidebar-nav">
                <a href="about.html" class="nav-item">
                    <span class="nav-label">About me</span>
                    <span class="nav-subtitle">Passions, hobbies...</span>
                </a>
                <a href="playground.html" class="nav-item">
                    <span class="nav-label">Playground</span>
                    <span class="nav-subtitle">Branding, Motion, 3D...</span>
                </a>
                <a href="#resume" class="nav-item external">
                    <span class="nav-label">Resume</span>
                    <svg class="external-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 2H4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 2h4v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 8L14 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
                <a href="mailto:rahul@example.com" class="nav-item external">
                    <span class="nav-label">Email</span>
                    <svg class="external-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 2H4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 2h4v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 8L14 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
                <a href="https://linkedin.com/in/rahulnanduri" class="nav-item external" target="_blank">
                    <span class="nav-label">LinkedIn</span>
                    <svg class="external-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 2H4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 2h4v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 8L14 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
            </nav>
        </aside>

    <!-- Main Content -->
    <main class="main-content">
            <div class="projects-grid">
                <!-- Project Card 1 -->
                <a href="#layerlens" class="project-card">
                    <div class="project-mockup">
                        <div class="mockup-browser">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="browser-content">
                                <div class="layers-panel">
                                    <h4>Layers</h4>
                                    <div class="layer-item">
                                        <span class="layer-level">LEVEL 3</span>
                                        <span class="layer-name">Top</span>
                                    </div>
                                    <div class="layer-item">
                                        <span class="layer-level">LEVEL 2</span>
                                    </div>
                                    <div class="layer-item">
                                        <span class="layer-level">LEVEL 1</span>
                                    </div>
                                    <div class="layer-item">
                                        <span class="layer-level">LEVEL 0</span>
                                        <span class="layer-name">Bottom</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3 class="project-title">LayerLens</h3>
                        <p class="project-description">Introduces two features that simplify navigation and reduce cognitive load in complex, collaborative files.</p>
                        <div class="project-tags">
                            <span class="tag">UX/UI Design</span>
                            <span class="tag">UX Research</span>
                        </div>
                </div>
                </a>

                <!-- Project Card 2 -->
                <a href="#hudson-wilder" class="project-card">
                    <div class="project-mockup">
                        <div class="mockup-browser">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="browser-content ecommerce">
                                <div class="ecommerce-header">
                                    <h3>Glassware</h3>
                                    <p>hudsonwilder.com/collections/drinkware</p>
                                </div>
                                <div class="product-grid">
                                    <div class="product-item"></div>
                                    <div class="product-item"></div>
                                    <div class="product-item"></div>
                                    <div class="product-item"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3 class="project-title">Hudson Wilder</h3>
                        <p class="project-description">Designed digital and brand experiences, spanning e-commerce sites and studio work</p>
                        <div class="project-tags">
                            <span class="tag">UX/UI Design</span>
                            <span class="tag">Visual Design</span>
                        </div>
                    </div>
                </a>

                <!-- Project Card 3 -->
                <a href="#neptune-studio" class="project-card">
                    <div class="project-mockup">
                        <div class="mockup-browser dark-theme">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="browser-content music-studio">
                                <div class="studio-content">
                                    <button class="studio-button">Send Discography</button>
                                    <div class="music-player"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3 class="project-title">Neptune Studio</h3>
                        <p class="project-description">Brought a music studio's creative vision to life through immersive web design</p>
                        <div class="project-tags">
                            <span class="tag">Visual Design</span>
                        </div>
                    </div>
                </a>

                <!-- Project Card 4 -->
                <a href="#eco-aid" class="project-card">
                    <div class="project-mockup">
                        <div class="mockup-browser">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="browser-content framework">
                                <div class="framework-section purple">
                                    <h4>Develop a policy that requires every AI initiative to be evaluated on</h4>
                                </div>
                                <div class="framework-section red">
                                    <h4>Weigh the real cost adding AI</h4>
                                </div>
                                <div class="framework-section green">
                                    <h4>Upskill your team on energy-efficient AI usage</h4>
                                </div>
                                <div class="framework-example">
                                    <h5>EXAMPLE</h5>
                                    <p>Cursor AI is optimized for coding assistance. Google's internal Sustainable AI guide also informs efficient models and cloud regions.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3 class="project-title">Eco A.I.D</h3>
                        <p class="project-description">Sustainable AI Framework</p>
                        <div class="project-tags">
                            <span class="tag">UX/UI Design</span>
                            <span class="tag">UX Research</span>
                    </div>
                </div>
                </a>
            </div>
    </main>
    </div>


    <!-- Sector Properties System -->
    <script src="js/sector-properties.js"></script>
    
    <!-- Page Transitions -->
    <script src="js/page-transitions.js"></script>
    
    <script>
        // Enhanced Dot Grid - Step 2: Adding cursor interaction
        class SimpleDotGrid {
            constructor() {
                this.canvas = document.getElementById('dotGrid');
                this.ctx = this.canvas.getContext('2d');
                
                // High-DPI support
                this.dpr = window.devicePixelRatio || 1;
                
                // Cursor tracking
                this.mouseX = 0;
                this.mouseY = 0;
                this.isMouseOver = false;
                
                // Smooth animation properties
                this.cubePositions = new Map(); // Store each cube's current and target positions
                this.animationSpeed = 0.15; // How fast cubes move to target position (0-1)
                this.returnSpeed = 0.08; // How fast cubes return to original position
                
                // Animation
                this.animationId = null;
                
                this.init();
            }

            init() {
                this.setupCanvas();
                this.setupEventListeners();
                this.startAnimation();
            }

            setupCanvas() {
                // Get viewport dimensions
                const rect = this.canvas.getBoundingClientRect();
                const displayWidth = window.innerWidth;
                const displayHeight = window.innerHeight;
                
                // Set the internal size to the display size * device pixel ratio
                this.canvas.width = displayWidth * this.dpr;
                this.canvas.height = displayHeight * this.dpr;
                
                // Set the display size (CSS pixels)
                this.canvas.style.width = displayWidth + 'px';
                this.canvas.style.height = displayHeight + 'px';
                
                // Scale the drawing context so everything draws at the correct size
                this.ctx.scale(this.dpr, this.dpr);
                
                // Enable anti-aliasing for smoother rendering
                this.ctx.imageSmoothingEnabled = true;
                this.ctx.imageSmoothingQuality = 'high';
                
                // Reset cube positions when canvas is resized
                this.cubePositions.clear();
            }

            setupEventListeners() {
                // Mouse tracking
                document.addEventListener('mousemove', (e) => {
                    this.mouseX = e.clientX;
                    this.mouseY = e.clientY;
                    this.isMouseOver = true;
                });

                // Mouse leave detection
                document.addEventListener('mouseleave', () => {
                    this.isMouseOver = false;
                });

                // Window resize
                window.addEventListener('resize', () => {
                    this.setupCanvas();
                });
            }

            startAnimation() {
                const animate = () => {
                    this.drawDots();
                    this.animationId = requestAnimationFrame(animate);
                };
                animate();
            }

            drawDots() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                const circleSize = 4; // 1/3 the size of spheres (12 / 3 = 4)
                const spacing = 25; // 20% less dense (22 * 1.2 = 26.4, rounded to 25)
                const color = 'rgba(107, 193, 224, 0.6)'; // Blue with 60% opacity
                
                // Calculate how many circles we need to cover the entire screen
                const cols = Math.ceil(this.canvas.width / spacing) + 1;
                const rows = Math.ceil(this.canvas.height / spacing) + 1;
                
                for (let i = 0; i < cols; i++) {
                    for (let j = 0; j < rows; j++) {
                        const baseX = i * spacing;
                        const baseY = j * spacing;
                        const circleId = `${i}-${j}`;
                        
                        // Initialize circle position if not exists
                        if (!this.cubePositions.has(circleId)) {
                            this.cubePositions.set(circleId, {
                                currentX: baseX,
                                currentY: baseY,
                                targetX: baseX,
                                targetY: baseY,
                                originalX: baseX,
                                originalY: baseY
                            });
                        }
                        
                        const circle = this.cubePositions.get(circleId);
                        
                        // Calculate target position based on cursor interaction
                        let targetX = baseX;
                        let targetY = baseY;
                        
                        if (this.isMouseOver) {
                            const distance = this.getDistance(baseX, baseY, this.mouseX, this.mouseY);
                            const maxDistance = 60; // Adjusted interaction radius for denser circles
                            
                            if (distance < maxDistance && distance > 0) {
                                // Calculate repulsion force with easing
                                const normalizedDistance = distance / maxDistance;
                                const easeOut = 1 - Math.pow(normalizedDistance, 2); // Ease out curve
                                const repulsionStrength = 15; // Adjusted for denser circles
                                
                                // Calculate direction away from cursor
                                const angle = Math.atan2(baseY - this.mouseY, baseX - this.mouseX);
                                const repulsionX = Math.cos(angle) * easeOut * repulsionStrength;
                                const repulsionY = Math.sin(angle) * easeOut * repulsionStrength;
                                
                                targetX = baseX + repulsionX;
                                targetY = baseY + repulsionY;
                            }
                        }
                        
                        // Update target position
                        circle.targetX = targetX;
                        circle.targetY = targetY;
                        
                        // Smooth interpolation to target position
                        const speed = this.isMouseOver ? this.animationSpeed : this.returnSpeed;
                        circle.currentX += (circle.targetX - circle.currentX) * speed;
                        circle.currentY += (circle.targetY - circle.currentY) * speed;
                        
                        // Draw simple 2D circle at current position
                        this.drawCircle(circle.currentX, circle.currentY, circleSize, color);
                    }
                }
            }

            drawCircle(x, y, size, color) {
                const radius = size / 2;
                
                // Save the current context state
                this.ctx.save();
                
                // Enable anti-aliasing for smooth circles
                this.ctx.lineWidth = 0.5;
                this.ctx.lineCap = 'round';
                this.ctx.lineJoin = 'round';
                
                // Draw simple 2D circle
                this.ctx.fillStyle = color;
                this.ctx.beginPath();
                this.ctx.arc(x, y, radius, 0, Math.PI * 2);
                this.ctx.fill();
                
                // Restore the context state
                this.ctx.restore();
            }

            adjustColor(color, factor) {
                // Extract RGB values from rgba string
                const match = color.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*([\d.]+)?\)/);
                if (!match) return color;
                
                const r = parseInt(match[1]);
                const g = parseInt(match[2]);
                const b = parseInt(match[3]);
                const a = match[4] ? parseFloat(match[4]) : 1;
                
                // Adjust brightness
                const newR = Math.max(0, Math.min(255, r + (factor * 255)));
                const newG = Math.max(0, Math.min(255, g + (factor * 255)));
                const newB = Math.max(0, Math.min(255, b + (factor * 255)));
                
                return `rgba(${Math.round(newR)}, ${Math.round(newG)}, ${Math.round(newB)}, ${a})`;
            }

            getDistance(x1, y1, x2, y2) {
                const dx = x2 - x1;
                const dy = y2 - y1;
                return Math.sqrt(dx * dx + dy * dy);
            }
        }

        // Initialize the simple dot grid
        document.addEventListener('DOMContentLoaded', function() {
            new SimpleDotGrid();
        });

        // Initialize sector rendering
        document.addEventListener('DOMContentLoaded', function() {
            renderSectors();
        });

        function renderSectors() {
            const sectorProperties = window.SectorProperties;
            const sectorsContainer = document.querySelector('.projects-grid');
            
            if (!sectorsContainer || !sectorProperties) return;

            // Get all sectors
            const allSectors = sectorProperties.getAllSectors();
            
            // Clear existing content
            sectorsContainer.innerHTML = '';

            // Render each sector
            allSectors.forEach(sector => {
                const sectorHTML = createSectorHTML(sector);
                sectorsContainer.insertAdjacentHTML('beforeend', sectorHTML);
            });
        }

        function createSectorHTML(sector) {
            const mockupHTML = createMockupHTML(sector);
            
            return `
                <a href="${sector.id}.html" class="project-card">
                    <div class="project-mockup">
                        ${mockupHTML}
                    </div>
                    <div class="project-info">
                        <h3 class="project-title">${sector.title}</h3>
                        <p class="project-description">${sector.description}</p>
                        <div class="project-tags">
                            ${sector.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                </a>
            `;
        }

        function createMockupHTML(sector) {
            switch (sector.mockupType) {
                case 'browser':
                    return `
                        <div class="mockup-browser">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="browser-content">
                                <h3>${sector.title}</h3>
                                <p>${sector.subtitle}</p>
                            </div>
                        </div>
                    `;
                case 'app':
                    return `
                        <div class="mockup-app">
                            <div class="app-header">
                                <div class="app-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="app-content">
                                <h3 style="color: white; margin-bottom: 15px;">${sector.title}</h3>
                                <button style="background: #4a5568; color: white; padding: 8px 16px; border: none; border-radius: 4px;">
                                    ${sector.subtitle}
                                </button>
                            </div>
                        </div>
                    `;
                case 'mobile':
                    return `
                        <div class="mockup-mobile">
                            <div class="mobile-screen">
                                <div class="mobile-content">
                                    <h4>${sector.title}</h4>
                                    <p>${sector.subtitle}</p>
                                </div>
                            </div>
                        </div>
                    `;
                case 'image':
                    const imagePath = sector.thumbnailImage || 'images/placeholder.svg';
                    return `
                        <div class="mockup-image">
                            <img src="${imagePath}" 
                                 alt="${sector.title} - Thumbnail" 
                                 class="thumbnail-image"
                                 onerror="this.style.background='#f8f9fa'; this.style.display='flex'; this.style.alignItems='center'; this.style.justifyContent='center'; this.innerHTML='<span style=color:#999;>Image not found</span>';">
                        </div>
                    `;
                default:
                    return `
                        <div style="width: 100%; height: 100%; background: linear-gradient(135deg, var(--primary-color), var(--accent-color)); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; text-align: center;">
                            <div>
                                <h3 style="margin-bottom: 10px;">${sector.title}</h3>
                                <p style="opacity: 0.9;">${sector.subtitle}</p>
                            </div>
        </div>
                    `;
            }
        }
    </script>
</body>
</html>
