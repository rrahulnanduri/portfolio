<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rahul Nanduri - Portfolio</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=VT323&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Interactive Dot Grid Background -->
    <canvas id="dotGrid" class="dot-grid-canvas"></canvas>
    
    <div class="container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <div class="profile-card">
                <h1 class="profile-name">Rahul Nanduri</h1>
                <p class="profile-pronunciation">['rah-ool']</p>
                <p class="profile-description">UX/UI Designer and Developer with a focus on creating intuitive digital experiences that connect with people.</p>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#about" class="nav-item">
                    <span class="nav-label">About me</span>
                    <span class="nav-subtitle">Passions, hobbies...</span>
                </a>
                <a href="playground.html" class="nav-item">
                    <span class="nav-label">Playground</span>
                    <span class="nav-subtitle">Branding, Motion, 3D...</span>
                </a>
                <a href="#resume" class="nav-item external">
                    <span class="nav-label">Resume</span>
                    <svg class="external-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 2H4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 2h4v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 8L14 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
                <a href="mailto:rahul@example.com" class="nav-item external">
                    <span class="nav-label">Email</span>
                    <svg class="external-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 2H4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 2h4v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 8L14 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
                <a href="https://linkedin.com/in/rahulnanduri" class="nav-item external" target="_blank">
                    <span class="nav-label">LinkedIn</span>
                    <svg class="external-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 2H4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 2h4v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 8L14 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
            </nav>
        </aside>

    <!-- Main Content -->
    <main class="main-content">
            <div class="projects-grid">
                <!-- Project Card 1 -->
                <a href="layerlens.html" class="project-card">
                    <div class="project-mockup">
                        <div class="mockup-browser">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="browser-content">
                                <div class="layers-panel">
                                    <h4>Layers</h4>
                                    <div class="layer-item">
                                        <span class="layer-level">LEVEL 3</span>
                                        <span class="layer-name">Top</span>
                                    </div>
                                    <div class="layer-item">
                                        <span class="layer-level">LEVEL 2</span>
                                    </div>
                                    <div class="layer-item">
                                        <span class="layer-level">LEVEL 1</span>
                                    </div>
                                    <div class="layer-item">
                                        <span class="layer-level">LEVEL 0</span>
                                        <span class="layer-name">Bottom</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3 class="project-title">LayerLens</h3>
                        <p class="project-description">Introduces two features that simplify navigation and reduce cognitive load in complex, collaborative files.</p>
                        <div class="project-tags">
                            <span class="tag">UX/UI Design</span>
                            <span class="tag">UX Research</span>
                        </div>
                </div>
                </a>

                <!-- Project Card 2 -->
                <a href="hudson-wilder.html" class="project-card">
                    <div class="project-mockup">
                        <div class="mockup-browser">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="browser-content ecommerce">
                                <div class="ecommerce-header">
                                    <h3>Glassware</h3>
                                    <p>hudsonwilder.com/collections/drinkware</p>
                                </div>
                                <div class="product-grid">
                                    <div class="product-item"></div>
                                    <div class="product-item"></div>
                                    <div class="product-item"></div>
                                    <div class="product-item"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3 class="project-title">Hudson Wilder</h3>
                        <p class="project-description">Designed digital and brand experiences, spanning e-commerce sites and studio work</p>
                        <div class="project-tags">
                            <span class="tag">UX/UI Design</span>
                            <span class="tag">Visual Design</span>
                        </div>
                    </div>
                </a>

                <!-- Project Card 3 -->
                <a href="neptune-studio.html" class="project-card">
                    <div class="project-mockup">
                        <div class="mockup-browser dark-theme">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="browser-content music-studio">
                                <div class="studio-content">
                                    <button class="studio-button">Send Discography</button>
                                    <div class="music-player"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3 class="project-title">Neptune Studio</h3>
                        <p class="project-description">Brought a music studio's creative vision to life through immersive web design</p>
                        <div class="project-tags">
                            <span class="tag">Visual Design</span>
                        </div>
                    </div>
                </a>

                <!-- Project Card 4 -->
                <a href="eco-aid.html" class="project-card">
                    <div class="project-mockup">
                        <div class="mockup-browser">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="browser-content framework">
                                <div class="framework-section purple">
                                    <h4>Develop a policy that requires every AI initiative to be evaluated on</h4>
                                </div>
                                <div class="framework-section red">
                                    <h4>Weigh the real cost adding AI</h4>
                                </div>
                                <div class="framework-section green">
                                    <h4>Upskill your team on energy-efficient AI usage</h4>
                                </div>
                                <div class="framework-example">
                                    <h5>EXAMPLE</h5>
                                    <p>Cursor AI is optimized for coding assistance. Google's internal Sustainable AI guide also informs efficient models and cloud regions.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3 class="project-title">Eco A.I.D</h3>
                        <p class="project-description">Sustainable AI Framework</p>
                        <div class="project-tags">
                            <span class="tag">UX/UI Design</span>
                            <span class="tag">UX Research</span>
                    </div>
                </div>
                </a>
            </div>
    </main>
    </div>

    <script>
        class DotGrid {
            constructor(container = "dotGrid") {
                this.canvasElement = document.getElementById(container);

                // Get the device pixel ratio, falling back to 1.
                this.dpr = window.devicePixelRatio || 1;

                this.mouseX = 0;
                this.mouseY = 0;

                // Setup Canvas
                this.canvas = this.canvasElement.getContext("2d");
                this.canvas.scale(this.dpr, this.dpr);
                
                // Initialize with proper viewport sizing
                this.resize();
            }

            onMouseUpdate(e) {
                this.mouseX = e.pageX - this.drawable.left;
                this.mouseY = e.pageY - this.drawable.top;

                window.requestAnimationFrame(this.draw.bind(this));
            }

            init() {
                // Wait for DOM to be ready
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', () => this.init());
                    return;
                }
                
                this.resize();
                this.draw(); // Draw initial frame
                
                // Debug logging
                console.log('Canvas size:', this.canvasWidth / this.dpr, 'x', this.canvasHeight / this.dpr);
                console.log('Viewport size:', window.innerWidth, 'x', window.innerHeight);
                console.log('Canvas element size:', this.canvasElement.offsetWidth, 'x', this.canvasElement.offsetHeight);
                
                // Listen for Mouse updates
                document.body.addEventListener(
                    "mousemove",
                    this.onMouseUpdate.bind(this),
                    false
                );
                window.addEventListener('resize', this.resize.bind(this));
            }

            resize() {
                // Get the actual rendered size of the canvas element
                const rect = this.canvasElement.getBoundingClientRect();
                const actualWidth = rect.width;
                const actualHeight = rect.height;
                
                // Set canvas internal size to match the actual rendered size
                this.canvasWidth = actualWidth * this.dpr;
                this.canvasHeight = actualHeight * this.dpr;
                
                // Set canvas size
                this.canvasElement.width = this.canvasWidth;
                this.canvasElement.height = this.canvasHeight;
                
                // Force CSS size to match viewport - use 100vw and 100vh
                this.canvasElement.style.width = '100vw';
                this.canvasElement.style.height = '100vh';
                
                // Update drawable for mouse calculations
                this.drawable = this.canvasElement.getBoundingClientRect();
                
                console.log('=== EXTENSIVE DEBUG ===');
                console.log('window.innerWidth:', window.innerWidth);
                console.log('window.innerHeight:', window.innerHeight);
                console.log('window.screen.width:', window.screen.width);
                console.log('window.screen.height:', window.screen.height);
                console.log('document.documentElement.clientWidth:', document.documentElement.clientWidth);
                console.log('document.documentElement.clientHeight:', document.documentElement.clientHeight);
                console.log('Canvas element offsetWidth:', this.canvasElement.offsetWidth);
                console.log('Canvas element offsetHeight:', this.canvasElement.offsetHeight);
                console.log('Canvas element getBoundingClientRect:', this.canvasElement.getBoundingClientRect());
                console.log('Canvas internal size:', this.canvasWidth / this.dpr, 'x', this.canvasHeight / this.dpr);
                console.log('Device pixel ratio:', this.dpr);
                console.log('=== END EXTENSIVE DEBUG ===');
            }

            // Draws the background and calls the function for drawing the dots
            draw() {
                this.canvas.clearRect(0, 0, this.canvasWidth, this.canvasHeight);
                
                // Draw a test border to see canvas bounds
                this.canvas.strokeStyle = 'red';
                this.canvas.lineWidth = 3;
                this.canvas.strokeRect(0, 0, this.canvasWidth / this.dpr, this.canvasHeight / this.dpr);
                
                // Draw corner markers
                this.canvas.fillStyle = 'blue';
                this.canvas.fillRect(0, 0, 10, 10);
                this.canvas.fillRect((this.canvasWidth / this.dpr) - 10, 0, 10, 10);
                this.canvas.fillRect(0, (this.canvasHeight / this.dpr) - 10, 10, 10);
                this.canvas.fillRect((this.canvasWidth / this.dpr) - 10, (this.canvasHeight / this.dpr) - 10, 10, 10);
                
                this.drawDots();
            }

            // i and j function as x and y when drawing the dot grid.
            drawDots() {
                let size = 2.7; // 1.8x bigger (1.5 * 1.8 = 2.7)
                let gridSize = 30;
                
                // Use actual canvas dimensions for full coverage
                let canvasWidth = this.canvasWidth / this.dpr;
                let canvasHeight = this.canvasHeight / this.dpr;
                
                // Calculate grid bounds
                let maxI = Math.ceil(canvasWidth / gridSize) + 1;
                let maxJ = Math.ceil(canvasHeight / gridSize) + 1;
                
                // Debug logging
                console.log('=== DOT GRID DEBUG ===');
                console.log('Canvas dimensions:', canvasWidth, 'x', canvasHeight);
                console.log('Grid size:', gridSize);
                console.log('Grid calculation:', canvasWidth / gridSize, 'x', canvasHeight / gridSize);
                console.log('Max dots (i,j):', maxI, 'x', maxJ);
                console.log('Total dots to draw:', maxI * maxJ);
                console.log('Last dot position will be:', (maxI-1) * gridSize, 'x', (maxJ-1) * gridSize);
                
                let dotCount = 0;
                
                // Start from 0 and go beyond the original bounds to ensure full coverage
                for (var i = 0; i < maxI; i++) {
                    for (var j = 0; j < maxJ; j++) {
                        let x = i * gridSize;
                        let y = j * gridSize;
                        let dist = this.pythag(x, y, this.mouseX, this.mouseY);
                        
                        // Calculate repulsion effect - using your original formula
                        let repulsionX = 0;
                        let repulsionY = 0;
                        if (dist > 0 && dist < 100) { // Only apply repulsion within 100px
                            repulsionX = (x - this.mouseX) / dist * gridSize * 0.3;
                            repulsionY = (y - this.mouseY) / dist * gridSize * 0.3;
                        }
                        
                        this.canvas.beginPath();
                        this.canvas.arc(
                            x + repulsionX,
                            y + repulsionY,
                            size,
                            0,
                            Math.PI * 2
                        );
                        this.canvas.fillStyle = "rgba(242, 135, 5, 0.5)"; // 50% opacity
                        this.canvas.fill();
                        
                        dotCount++;
                        
                        // Log first few and last few dots
                        if (dotCount <= 5 || dotCount > maxI * maxJ - 5) {
                            console.log(`Dot ${dotCount}: (${i},${j}) at (${x},${y})`);
                        }
                    }
                }
                
                console.log('Actually drew', dotCount, 'dots');
                console.log('=== END DEBUG ===');
            }

            // Grabs mouse position, checks if the mouse is off the screen (NaN) and calculates the distance from the mouse pointer and each dot using the pythagorean theorem.
            pythag(ellipseX, ellipseY, mouseX, mouseY) {
                let x = mouseX;
                let y = mouseY;

                if (isNaN(x)) {
                    return 1;
                } else {
                    let leg1 = Math.abs(x - ellipseX);
                    let leg2 = Math.abs(y - ellipseY);
                    let pyth = Math.pow(leg1, 2) + Math.pow(leg2, 2);
                    return Math.sqrt(pyth);
                }
            }
        }

        const grid = new DotGrid("dotGrid");
        grid.init();
    </script>
</body>
</html>
